<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aiven Rental – Customer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <div class="layout">
      <aside class="sidebar">
        <div class="nav-links">
          <div class="nav-group">
            <div class="nav-group-title">Overview</div>
            <a class="nav-link" href="dashboard.html">Dashboard</a>
            <a class="nav-link" href="work-bench.html">Work Bench</a>
            <a class="nav-link" href="reports.html">Reports</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">Operations</div>
            <a class="nav-link" href="rental-quotes.html">Quotes</a>
            <a class="nav-link" href="rental-orders.html">Rental Orders</a>
            <a class="nav-link" href="invoices.html">Invoices</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">Repairs</div>
            <a class="nav-link" href="work-orders.html">Work Orders</a>
            <a class="nav-link" href="parts.html">Parts</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">Inventory</div>
            <a class="nav-link" href="equipment.html">Assets</a>
            <a class="nav-link" href="types.html">Equipments</a>
            <a class="nav-link" href="locations.html">Locations</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">People</div>
            <a class="nav-link active" href="customers.html">Customers</a>
            <a class="nav-link" href="sales-people.html">Sales People</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">Custom</div>
            <a class="nav-link" href="dispatch.html">Dispatch</a>
          </div>
          <div class="nav-group">
            <div class="nav-group-title">Admin</div>
            <a class="nav-link" href="settings.html">Settings</a>
            <a class="nav-link" href="accounts.html">Accounts</a>
          </div>
        </div>
      </aside>

      <div>
        <header class="topbar">
          <div class="topbar-inner">
            <a class="topbar-brand" href="dashboard.html" aria-label="Aiven Rental dashboard">
              <span class="topbar-mark">AR</span>
              <span class="topbar-title">Aiven <span class="topbar-title-accent">Rental</span></span>
            </a>
            <div class="topbar-actions">
              <a class="ghost" href="/#/marketplace">Marketplace</a>
              <a class="primary" href="/#/home">Home</a>
            </div>
          </div>
        </header>
        <header class="hero" style="display:none;">
          <div>
            <p class="eyebrow" id="mode-label">New customer</p>
            <h1 id="form-title">Customer details</h1>
            <p class="lede">Manage a single customer with contact, sales, notes, and special pricing.</p>
          </div>
          <div class="hero-badge">
            <span>Per-customer pricing</span>
            <span>Sales assignment</span>
            <span>Follow-up</span>
          </div>
        </header>

        <main class="grid">
          <section class="card" style="display:none;">
            <div class="card-header">
              <div>
                <p class="eyebrow">Context</p>
                <h2>Company</h2>
              </div>
            </div>
            <div class="stack">
              <div class="inline-actions">
                <a href="customers.html" class="ghost small">Back to list</a>
              </div>
              <p class="hint" id="company-meta">Loading your company…</p>
            </div>
          </section>

          <section class="card wide">
            <div class="card-header">
              <div>
                <h2>Core details</h2>
              </div>
              <button class="ghost danger" id="delete-customer" style="display:none;">Delete</button>
            </div>

            <div class="form-body">
              <form id="customer-form" class="stack">
                <label>Customer type
                  <select name="customerKind" id="customer-kind">
                    <option value="standalone">Standalone</option>
                    <option value="branch">Branch</option>
                  </select>
                </label>
                <label id="parent-customer-row" style="display:none;">Parent customer
                  <select name="parentCustomerId" id="parent-customer-select">
                    <option value="">Select parent customer</option>
                  </select>
                </label>
                <label>Company name <input name="companyName" required /></label>
                <label>QBO Customer ID <input name="qboCustomerId" placeholder="QuickBooks Customer ID" /></label>
                <div class="contact-block">
                  <div class="contact-header">
                    <strong>Contacts</strong>
                    <button type="button" class="ghost small" id="add-contact-row">+ Add contact</button>
                  </div>
                  <div class="contacts-list stack" id="contacts-list"></div>
                </div>
                <label>Street address <input name="streetAddress" /></label>
                <div class="two-col">
                  <label>City <input name="city" /></label>
                  <label>Province/State <input name="region" /></label>
                </div>
                <div class="two-col">
                  <label>Country <input name="country" /></label>
                  <label>Postal code <input name="postalCode" /></label>
                </div>
                <div class="two-col">
                  <label>Follow up date <input name="followUpDate" type="date" /></label>
                  <label>Sales person
                    <select name="salesPersonId" id="sales-select">
                      <option value="">Select sales person</option>
                      <option value="__new_sales__">+ Add sales person...</option>
                    </select>
                  </label>
                </div>
                <label>General notes <textarea name="notes" class="notes-area"></textarea></label>

                <div class="card" style="padding:12px;border:1px solid var(--border);border-radius:12px;">
                  <div class="inline-actions" style="justify-content: space-between;">
                    <div>
                      <strong>Special pricing</strong>
                    </div>
                  </div>
                  <div class="deposit-field">
                    <label for="canChargeDeposit">Charge Deposit</label>
                    <input id="canChargeDeposit" type="checkbox" name="canChargeDeposit" />
                  </div>
                  <div class="pricing-grid">
                    <label>Equipment type
                      <select id="pricing-type-select">
                        <option value="">Select type</option>
                      </select>
                    </label>
                    <label>Daily rate <input id="pricing-daily" type="number" min="0" step="0.01" /></label>
                    <label>Weekly rate <input id="pricing-weekly" type="number" min="0" step="0.01" /></label>
                    <label>Monthly rate <input id="pricing-monthly" type="number" min="0" step="0.01" /></label>
                    <button type="button" class="primary" id="save-pricing">Add/Update</button>
                  </div>
                  <div class="inline" style="margin-top:10px;">
                    <input id="pricing-search" class="search-input" placeholder="Search special pricing..." />
                  </div>
                  <div class="table" id="pricing-table" style="margin-top:12px;"></div>
                </div>

                <div class="inline-actions">
                  <button type="submit" class="primary">Save customer</button>
                </div>
              </form>
            </div>
          </section>

          <div class="extras-strip wide" id="extras-strip">
            <div class="extras-strip-left">
              <span class="extras-label">Customer</span>
              <span class="extras-dot">·</span>
            </div>
            <div class="extras-actions">
              <button class="ghost small" id="open-customer-documents" type="button">
                Documents <span class="mini-badge" id="extras-docs-badge" style="display:none;"></span>
              </button>
              <button class="ghost small" id="open-customer-verification" type="button">
                Verification <span class="mini-badge" id="extras-card-badge" style="display:none;"></span>
              </button>
            </div>
          </div>
        </main>
      </div>
    </div>
  </div>

  <div class="drawer-overlay" id="extras-drawer-overlay" style="display:none;"></div>
  <aside class="drawer" id="extras-drawer" aria-hidden="true">
    <div class="drawer-header">
      <div>
        <h3 style="margin:0;">Customer</h3>
        <p class="hint" id="extras-drawer-subtitle" style="margin:6px 0 0;"></p>
      </div>
      <button class="ghost small" id="close-extras-drawer" type="button">Close</button>
    </div>
    <div class="drawer-tabs">
      <button class="drawer-tab" type="button" data-tab="documents">Documents</button>
      <button class="drawer-tab" type="button" data-tab="verification">Verification</button>
    </div>
    <div class="drawer-body">
      <div class="drawer-panel" data-panel="documents">
        <div class="stack">
          <div class="inline">
            <input id="customer-document-file" type="file" />
            <button class="primary" id="upload-customer-document" type="button">Upload</button>
          </div>
          <span class="hint" id="customer-document-hint"></span>
          <div class="stack" id="customer-documents-list"></div>
          <div class="stack" style="gap:8px;">
            <strong>Storefront signup documents</strong>
            <div class="stack" id="customer-storefront-documents-list"></div>
          </div>
        </div>
      </div>
      <div class="drawer-panel" data-panel="verification" style="display:none;">
        <div class="stack" id="customer-verification-panel"></div>
      </div>
    </div>
  </aside>

  <div class="modal" id="sales-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add sales person</h3>
        <button class="ghost small" id="close-sales-modal">Close</button>
      </div>
      <form id="sales-form" class="stack">
        <label>Name <input name="name" required /></label>
        <label>Email <input name="email" type="email" /></label>
        <label>Phone number <input name="phone" /></label>
        <button type="submit" class="primary">Save</button>
      </form>
    </div>
  </div>

  <script src="session.js"></script>
  <script src="customers-form.js"></script>
</body>
</html>





